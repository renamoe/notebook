杨图是一个有限的框或单元格集合，左对齐排列，行长按非递增顺序排列（Ferrers 图）。对应整数拆分 $\lambda$。

![](https://oi-wiki.org/math/images/young-diagram-1.png)

将数字或什么东西填进杨图，满足每行严格递增、每列严格递增，就是杨表。

### 杨表的插入

在第一行插入 $x$，在第一行寻找第一个大于 $x$ 的数，

- 若找到为 $y$，则将 $y$ 改为 $x$，递归地在第二行插入 $y$；
- 若找不到，则插入 $x$ 到末尾。

### 杨表的删除

一定是删除某一行末尾的数，将插入过程逆过来即可。

### 杨表与 LIS/LDS

显然，第一行为 LIS，第一列为 LDS。

将排列倒序插入，则杨表交换行列。

### 杨表与排列

$1\dots n$ 的排列形成的杨表并不是 $n!$ 种，可能会有多个排列对应相同的杨表。

插入杨表的同时维护一个**记录表**，当插入 $a_i$ 后，在新加入的格子填入 $i$。形成两个形状相同的杨表。

一个排列和**一对**相同形状的标准杨表是一一对应的。也就是说，

$$
\sum_{\lambda\in n}f_{\lambda}^2=n!
$$

### 勾长公式

勾长 $\mathrm{hook}(v)$ 表示 $v$ 右面的格子数 + 右面的格子数 + $1$。

$1\dots n$ 填入某一 $n$ 个格子的杨图 $\lambda$ 的方案数

$$
\mathrm{dim}_{\lambda}=\frac{n!}{\prod_{v\in\lambda}\mathrm{hook}(v)}
$$

运用时往往需要一行一行一起算。似乎可以拆开贡献用 FFT 优化卷积。

---

### 杂

- $1\dots n$ 填入杨表的方案数，是**对和数**（$n$ 个点完全图的匹配方案数）。

> 证明：
>
> 一个排列和一对形状相同的杨表构成双射。
>
> 交换两个杨表得到另一个排列，为原排列的倒置，记为 $p,p^T$。也就是 $p_a=b$ 则 $p^T_b=a$。可以发现 $p$ 形成的两对杨表是 $A,B$，则 $p^T$ 形成杨表为 $B,A$。
>
> 考虑一个 $n$ 个点完全图的匹配方案，若 $u,v$ 配对则令 $p_u=v,p_v=u$，孤点则 $p_i=i$。因为 $p=p^T$，则 $p$ 形成的一对杨表是两个相同的杨表。
>
> 所以一个杨表对应一个 $n$ 个点完全图的匹配方案。

对和数有递推公式，考虑 $1$ 号点的匹配情况：

$$
f(n)=f(n-1)+(n-1)f(n-2)
$$

特别的，$f(0)=f(1)=1$。


