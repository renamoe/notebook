## Luogu P3449 [POI2006]PAL-Palindromes

枚举拼接后较长的那个串，然后在上面枚举较小串长度，统计数量可以 trie 或者 hash，长串剩余部分再判一下回文。

胡完才发现有给出特殊性质：都是回文串。这样有个结论是，$AB$ 是回文串的充要条件是 $A,B$ 的最小循环节相同。因为回文串的最小循环节也是回文串。

至于这个结论怎么想的，估计是手完、猜、对拍吧。

## Luogu P3158 [CQOI2011]放棋子

异色子不能处于同行或同列，只要划分好每个颜色占有那些行列，不同颜色之间就是独立的。

大体上是做背包，$f(i,j,k)$ 表示 $i$ 行 $j$ 列放前 $k$ 个颜色的方案数。

每加入一个颜色的棋子，转移代价为 $g(i,j,k)$ 表示 $i$ 行 $j$ 列放 $k$ 个棋子，并且不留空行列的方案数。不留空行列，可以容斥满足。

## CF314E. Sereja and Squares

正解还真就是 $\mathcal O(n^2)$ 暴力 + 卡常，不适合口胡，[写了一发](https://codeforces.com/contest/314/submission/134666984)。

教训是要有梦想，适当对暴力卡常。

## CF685B. Kay and Snowflake

重心一定是从重儿子的转移而来，暴力移动。

## Luogu P5358 [SDOI2019]快速查询

维护全局加和乘的 tag，`std::unordered_map<>` 记录单点求修改，注意是相对值。

## 
