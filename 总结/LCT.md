# LCT 复习

### 求 LCA

`access(x)` 再 `access(y)`，LCA 即为 `access(y)` 最后一次访问的 `splay` 的当前根。

### 动态维护生成树

以边作点，储存边权。

LCT 链上维护最值点（边）。

- 魔法森林：按 $a_i$ 排序，固定一个属性，然后按照 $b_i$ 维护最小生成树。


### 维护子树信息

想办法去维护虚儿子信息。

- 维护子树 `size`：另外维护虚儿子 `size` 之和；
- 数据结构维护 dfs 序信息，如有换根，讨论根与子树的关系；

### 动态重心

只合并的话。

- 启发式合并 $\mathcal O(\log^2n)$；
- 在两个重心之间的链上二分；

